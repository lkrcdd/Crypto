/*
ëª¨ë“ˆë¡œ ğ‘›ì˜ ê°’ê³¼ ì •ìˆ˜ ğ‘šì´ ì…ë ¥ë˜ì—ˆì„ ë•Œ,
1. ì •ìˆ˜ ğ‘šì˜ ëª¨ë“ˆë¡œ ë§ì…ˆ ì—°ì‚°ì— ëŒ€í•œ ì—­ì› ì§‘í•© ğ’ğ’
2. ëª¨ë“ˆë¡œ ê³±ì…ˆ ì—°ì‚°ì— ëŒ€í•œ ì—­ì› ì§‘í•© ğ’ğ’âˆ—
ì„ êµ¬í•˜ì‹œì˜¤
>ì…ë ¥ ì¡°ê±´: ğ‘› â‰¥ 2, ğ‘š â‰¥ 2
>ê³±ì…ˆì— ëŒ€í•œ ì—­ì› ì§‘í•© ğ’ğ’âˆ—ì€ í™•ì¥ ìœ í´ë¦¬ë“œ ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ê³„ì‚°í•œë‹¤.
>ë§Œì•½ ê³±ì…ˆ ì—°ì‚°ì— ëŒ€í•œ ì—­ì› ì§‘í•©ì´ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´â€œì—­ì›ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.â€ë¼ëŠ” ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•  ê²ƒ.
*/

#include <stdio.h>
#include <stdlib.h>

// í™•ì¥ ìœ í´ë¦¬ë“œ ì•Œê³ ë¦¬ì¦˜ ê³„ì‚° í•¨ìˆ˜
void ex_gcd(int n, int m, int *s, int *t)
{
    int r1 = n, r2 = m;
    int s1 = 1, s2 = 0;
    int t1 = 0, t2 = 1;
    int q, r;           // ëª«, ë‚˜ë¨¸ì§€
    int s_temp, t_temp; // sì™€ tì˜ ì¤‘ê°„ ì—°ì‚° ì €ì¥ìš©

    while (r2 != 0)
    {
        q = r1 / r2;
        r = r1 % r2;
        s_temp = s1 - q * s2;
        t_temp = t1 - q * t2;

        r1 = r2;
        r2 = r;

        s1 = s2;
        s2 = s_temp;

        t1 = t2;
        t2 = t_temp;
    }
    // sì™€ tê°’ì„ í¬ì¸í„°ë¡œ ë¦¬í„´
    *s = s1;
    *t = t1;
    return;
}

// ë§ì…ˆì— ëŒ€í•œ ì—­ì› ì¶œë ¥ í•¨ìˆ˜
void find_add_inverse(int n, int m)
{
    if (n == m)
        // ìê¸° ìì‹ ì´ ë§ì…ˆì— ëŒ€í•œ ì—­ì›ì¼ ë•Œ
        printf("0\n");
    else
    //(x+m) mod n = 0 mod n
    //(x+m) mod n = 0
    // x+m=n, x=n-m
        printf("%d\n", n - m);
    return;
}

// ê³±ì…ˆì— ëŒ€í•œ ì—­ì› ì¶œë ¥ í•¨ìˆ˜
void find_mul_inverse(int n, int m)
{
    int s, t = 0;

    // sn + tm = gcd(n, m)
    // sn + tm = 1 (ëª¨ë“ˆëŸ¬ ê³±ì…ˆ ì—­ì›ì˜ í•„ìš”ì¶©ë¶„ì¡°ê±´ì— ì˜í•´)
    // í™•ì¥ ìœ í´ë¦¬ë“œ ì•Œê³ ë¦¬ì¦˜ ì—°ì‚°ì„ í†µí•´ sì™€ tì˜ ê°’ ì‚°ì¶œ
    ex_gcd(n, m, &s, &t);

    // í•„ìš”ì¶©ë¶„ì¡°ê±´ ì²´í¬
    if ((s * n + t * m) != 1)
    {
        printf("not exist\n");
        return;
    }

    // (sn + tm) mod n = 1 mod n
    // sn mod n + tm mod n = 1
    // 0 + tm mod n = 1,
    // (a * b) mod n = 1 mod n = 1 ì„ ë§Œì¡±í•˜ë©´ ì„œë¡œ ê³±ì…ˆì— ëŒ€í•œ ì—­ì› ê´€ê³„ê°€ ë˜ë¯€ë¡œ
    // tì™€ mì€ ì—­ì› ê´€ê³„ì— ìˆë‹¤.
    // ë‹¨, Znì˜ ë²”ìœ„ë¥¼ ë²—ì–´ë‚¬ì„ ê²½ìš°, ì´ì— ëŒ€ì‘ì‹œì¼œì•¼ í•œë‹¤.
    if (t < 0)
        // í”¼ì œìˆ˜ì¸ tê°€ ìŒìˆ˜ì¸ ê²½ìš° ë‚˜ë¨¸ì§€ì¸ rì´ ìŒìˆ˜ê°€ ë˜ë¯€ë¡œ ì´ë¥¼ ì–‘ìˆ˜ë¡œ ë°”ê¾¸ì–´ì¤€ë‹¤.
        printf("%d\n", (t % n + n));
    else
        // të¥¼ Znì— ëŒ€ì‘ì‹œí‚¨ë‹¤.
        printf("%d\n", (t % n));
    return;
}

int main()
{
    int n, m;
    while (1)
    {
        printf("input n m : ");
        scanf("%d %d", &n, &m); // ğ‘› â‰¥ 2, ğ‘š â‰¥ 2
        if (n < 2 || m < 2)
        {
            printf("out of range!\n");
        }
        else
        {
            printf("add inverse element: ");
            find_add_inverse(n, m);
            printf("mul inverse element : ");
            find_mul_inverse(n, m);
        }
    }
    return 0;
}